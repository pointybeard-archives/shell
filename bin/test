<?php
namespace Symphony\Shell\Command\Shell;

use Symphony\Shell\Lib;

class Test extends Lib\AuthenticatedCommand
{
    use Lib\Traits\hasRequiresAuthenticationTrait;

    public function usage()
    {
        return "    usage for 'shell/test'

    This is the test command that ships with the shell extension. It will echo all
    argument provided. Authentication is required.

    examples:
        symphony -t 4141e465 -c shell/test
        symphony -u fred --command=shell/test" . PHP_EOL;
    }

    public function run()
    {
        Lib\Shell::message("Hi there. I am the 'test' command. Awesome I am. Here are the arguments you passed in: ", false, true);

        foreach (Lib\Shell::instance()->args as $key => $arg) {
            Lib\Shell::message(sprintf("%d: '%s' => '%s'", $key, $arg->name(), $arg->value()), false, true);
        }

        print PHP_EOL;
    }
}
